initial_state: 'on'
alias: Cooking light auto turn off
description: ''
trigger:
  - platform: sun
    event: sunrise
    offset: '01:00:00'

  - platform: time_pattern
    minutes: "/10"

#  - platform: numeric_state
#    entity_id: sensor.kitchen_multi_illuminance
#    above: 30
#    for:
#      hours: 0
#      minutes: 4
#      seconds: 0

condition:
  condition: and
  conditions:
    - condition: state
      entity_id: light.cooking_lights
      state: 'off'

    - condition: state
      entity_id: light.kitchen_lights
      state: 'off'

    - condition: numeric_state
      entity_id: sensor.kitchen_multi_illuminance
      above: 40

    - condition: state
      entity_id: input_boolean.cooking_lights_auto
      state: 'on'

action:
  - service: input_boolean.turn_off
    data:
      entity_id: input_boolean.cooking_lights_auto